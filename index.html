<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firestore Form</title>
</head>

<body>
    <h1>Firestore Form</h1>

    <form id="myForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <button type="submit">Submit</button>
    </form>

    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-firestore.js"></script>

    <script>
        import { initializeApp } from "firebase/app";
        // Your Firebase configuration
        const firebaseConfig = {
        apiKey: "AIzaSyBq8Dx4yfY0GO6AHQfVMAtKecxxYkvCZII",
        authDomain: "testdb-df121.firebaseapp.com",
        projectId: "testdb-df121",
        storageBucket: "testdb-df121.appspot.com",
        messagingSenderId: "623331774347",
        appId: "1:623331774347:web:bda28952a8de27cd64a98e"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Get a reference to the Firestore database
        const db = firebase.firestore();

        // Get the form element
        const form = document.getElementById('myForm');

        // Submit event listener for the form
        form.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from submitting traditionally

            // Get user input
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;

            // Add data to Firestore
            db.collection('user_data').add({
                name: name,
                email: email
            })
            .then(function (docRef) {
                console.log('Document written with ID: ', docRef.id);
                // Optionally, you can redirect the user to a thank you page or display a success message here
            })
            .catch(function (error) {
                console.error('Error adding document: ', error);
            });
        });
    </script>
</body>

</html>


